<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Car Performance Game</title>
    <!-- Bootstrap CSS via CDN -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- <link rel="stylesheet" href="/css/style.css" type="text/css"> -->
</head>
<body>
    <div class="container">
        <!-- Row for the header and intro -->
        <div class="row my-4">
            <div class="col-md-12">
                <h1>Let's build a racecar!</h1>
                <p class="lead">This web app is a practice project for Web development basics course.</p>
                <p>Site is built using <b>HTML, CSS (Bootstrap), an SQLite database and Node.js backend</b>. Criteria for the app is described <a href="https://jukkapne.github.io/WebOhjelmoinninPerusteet/">here</a></p>
                <ul>
                    <li>Car stats and budget are stored locally and updated always per install & uninstall of parts</li>
                    <li>Available items (car parts) are stored in an SQLite database. Items can be added to the DB using the form. DB contents are showed on page as item cards, from which they can be purchased using the Buy-button.</li>
                    <li>Items can be purchased and installed to the car. Installed parts and their specs are shown in a table. You can only install each part once (alert).</li>
                    <li>Parts can be uninstalled. Their price is returned to your budget and the stats are updated accordingly.</li>
                </ul> 
        
                <p>The idea is that you can upgrade your car using performance parts. You have a limited budget and you need to balance between power, emissions and handling.</p> 
                <p>HOX currently there is no logic/limitation for adding and installing parts ie. based on category or threshold values. This will be developed step by step as I'm trying new ways to implement features.</p>
                <ul>
                    <li>Bugs & improvements:</li>
                    <li><s>Item price is taken before duplicate check -> Need to move check to another function</s></li>
                    <li>Filtering/sorting for item cards</li>
                    <li>Game logic implementation, thresholds for car specs and a "test track" feature.</li>
                </ul>
                <img src="assets/pictures/oamk.png" alt="oamk kuva" class="img-fluid mb-4">
            </div>
        </div>

        <!-- Row for adding a new car part -->
        <div class="row my-4">
            <div class="col-md-6">
                <h2>Your Car Stats</h2>
                <p class="lead">Here you can see the current stats of your car, based on the parts you have installed.</p>
                <ul class="list-group">
                    <li class="list-group-item">Power: <span id="car-power">0</span> HP</li>
                    <li class="list-group-item">Emissions: <span id="car-emissions">0</span></li>
                    <li class="list-group-item">Handling: <span id="car-handling">0</span></li>
                </ul>
                <!-- Show user budget and Reset button under Car stats  -->
                <h2 class="mt-4">User Budget</h2>
                <div class="d-flex justify-content-between align-items-center"> 
                    <p id="user-budget" class="mb-0">Budget: $1000</p>
                    <button id="resetBudgetButton" class="btn btn-secondary ml-2">Reset game</button>
                </div>
            </div>


                <!-- Show installed parts next to stats and budget (own column)  -->
                <div class="col-md-6">
          
                
                    <h2>Installed Parts</h2>
                    <p class="lead">Here you can see all the parts you have installed on your car. You can uninstall any part by clicking the 
                    "Uninstall" button. This will remove the part from your car and add the part's price back to your budget.</p>
                   <table id="installedPartsTable" class="table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Power</th>
                            <th>Emissions (CO2)</th>
                            <th>Handling</th>
                            <th>Price</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                   
                    <tbody id="installedPartsBody">
                      <!-- Rows will be inserted here dynamically -->
                    </tbody>
                    </table>
                </div>
        </div>

         
<!-- Row for Available parts -->
<div class="row my-4">
    <div class="col-md-12">
        <!-- Dropdown for filtering parts -->
        <div class="form-group mb-4">
            <label for="categoryFilter">Filter by category:</label>
            <select id="categoryFilter" class="form-control">
                <option value="all">All Parts</option>
                <option value="engine">Engine</option>
                <option value="exhaust">Exhaust</option>
                <option value="suspension">Suspension</option>
            </select>
        </div>

        <!-- Parts section -->
        <h2>Available Parts</h2>
        <p class="lead">Here you can see all the available items that you can purchase for your car.</p>
        <div id="parts" class="row">
            <!-- The JavaScript code will insert card elements here -->
        </div>
    </div>
</div>


        <!-- Row for Adding parts -->
        <div class="row my-4">
            <div class="col-md-12">
                <h2>Add a New Car Part</h2>
                <p>You can define and add new parts. These are added to the database, and you can purchase them.</p>
                <form id="partForm">
                <div class="form-group">
                    <label for="category">Category:</label>
                    <select id="category" name="category" class="form-control" required>
                        <option value="">Select a category</option>
                        <option value="engine">Engine</option>
                        <option value="exhaust">Exhaust</option>
                        <option value="suspension">Suspension</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="price">Price:</label>
                    <input type="number" id="price" name="price" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="power">Power (HP):</label>
                    <input type="number" id="power" name="power" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="emissions">Emissions (CO2):</label>
                    <input type="number" id="emissions" name="emissions" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="handling">Handling:</label>
                    <input type="number" id="handling" name="handling" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary">Add Part</button>
                </form>
            </div>
        </div>
        
    </div>

    <!-- Bootstrap JS and its dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/javascript/main.js"></script>
    
</body>
</html>
